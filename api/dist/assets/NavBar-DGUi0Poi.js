import{r as c,j as a,u as I,a as y,L as C,s as K,b as R,c as _,d as J,e as Q,f as W,g as X,h as Y,i as Z,k as aa,l as sa,m as ea,n as na,o as oa}from"./index-B7gCKMKK.js";import{u,c as j,a as ra}from"./Anchor-3CuPqyzV.js";import{N as la,a as B}from"./Nav-B3JvpTrg.js";import{c as w,S as ta}from"./SSRProvider-a4K4fnkK.js";import{u as ia}from"./TransitionWrapper-5ppP3hMQ.js";import{C as ca}from"./Collapse-yx2Ydu3f.js";import{O as f}from"./Offcanvas-B8mPUPoQ.js";/* empty css               */import{B as da}from"./Button-CozBTO4j.js";import{D as h}from"./Dropdown-BRN3n2Bq.js";import{f as $}from"./functions-BSpfDl0n.js";import{S as O}from"./sweetalert2.all-D3FCHpe_.js";import{I as ma}from"./icons-8_5Uv09s.js";import{S as L,g as pa}from"./SearchBar-DxGOrjy2.js";import"./DataKey-COGXBUcQ.js";import"./BootstrapModalManager-BLapAtUg.js";import"./useMounted-CA1dmZjP.js";import"./useWillUnmount-DDVl-taq.js";import"./NoopTransition-DVFl9h6R.js";import"./divWithClassName-C082gbAY.js";import"./Fade-ByOLnFsp.js";import"./Form-dJ28kd3d.js";import"./ElementChildren-Du0aGwS8.js";const D=c.forwardRef(({bsPrefix:e,fluid:r=!1,as:l="div",className:o,...n},t)=>{const i=u(e,"container"),d=typeof r=="string"?`-${r}`:"-fluid";return a.jsx(l,{ref:t,...n,className:j(o,r?`${i}${d}`:i)})});D.displayName="Container";const A=c.forwardRef(({bsPrefix:e,className:r,as:l,...o},n)=>{e=u(e,"navbar-brand");const t=l||(o.href?"a":"span");return a.jsx(t,{...o,ref:n,className:j(r,e)})});A.displayName="NavbarBrand";const F=c.forwardRef(({children:e,bsPrefix:r,...l},o)=>{r=u(r,"navbar-collapse");const n=c.useContext(w);return a.jsx(ca,{in:!!(n&&n.expanded),...l,children:a.jsx("div",{ref:o,className:r,children:e})})});F.displayName="NavbarCollapse";const H=c.forwardRef(({bsPrefix:e,className:r,children:l,label:o="Toggle navigation",as:n="button",onClick:t,...i},d)=>{e=u(e,"navbar-toggler");const{onToggle:x,expanded:v}=c.useContext(w)||{},m=ra(s=>{t&&t(s),x&&x()});return n==="button"&&(i.type="button"),a.jsx(n,{...i,ref:d,onClick:m,"aria-label":o,className:j(r,e,!v&&"collapsed"),children:l||a.jsx("span",{className:`${e}-icon`})})});H.displayName="NavbarToggle";const z=c.forwardRef((e,r)=>{const l=c.useContext(w);return a.jsx(f,{ref:r,show:!!(l!=null&&l.expanded),...e,renderStaticNode:!0})});z.displayName="NavbarOffcanvas";const E=c.forwardRef(({className:e,bsPrefix:r,as:l="span",...o},n)=>(r=u(r,"navbar-text"),a.jsx(l,{ref:n,className:j(e,r),...o})));E.displayName="NavbarText";const G=c.forwardRef((e,r)=>{const{bsPrefix:l,expand:o=!0,variant:n="light",bg:t,fixed:i,sticky:d,className:x,as:v="nav",expanded:m,onToggle:s,onSelect:p,collapseOnSelect:g=!1,...S}=ia(e,{expanded:"onToggle"}),N=u(l,"navbar"),U=c.useCallback((...q)=>{p==null||p(...q),g&&m&&(s==null||s(!1))},[p,g,m,s]);S.role===void 0&&v!=="nav"&&(S.role="navigation");let T=`${N}-expand`;typeof o=="string"&&(T=`${T}-${o}`);const V=c.useMemo(()=>({onToggle:()=>s==null?void 0:s(!m),bsPrefix:N,expanded:!!m,expand:o}),[N,m,o,s]);return a.jsx(w.Provider,{value:V,children:a.jsx(ta.Provider,{value:U,children:a.jsx(v,{ref:r,...S,className:j(x,N,o&&T,n&&`${N}-${n}`,t&&`bg-${t}`,d&&`sticky-${d}`,i&&`fixed-${i}`)})})})});G.displayName="Navbar";const k=Object.assign(G,{Brand:A,Collapse:F,Offcanvas:z,Text:E,Toggle:H}),xa=()=>{const e=I(),[r,l]=c.useState(!1),o=y(x=>x.login),n=()=>l(!1),t=()=>l(!0),i=()=>{e(K(null))},d={height:"100%",borderRadius:"0px",backgroundColor:"#fff"};return a.jsxs("div",{children:[a.jsx(da,{variant:"light",onClick:t,style:d,children:a.jsx("i",{className:"fas fa-bars"})}),a.jsxs(f,{className:"sb-sidenav-light",show:r,onHide:n,scroll:!0,backdrop:!0,children:[a.jsx(f.Header,{closeButton:!0}),a.jsx(f.Body,{children:a.jsxs("nav",{className:"sb-sidenav accordion sb-sidenav-light",id:"sidenavAccordion",children:[a.jsx("div",{className:"sb-sidenav-menu",children:a.jsxs("div",{className:"nav",children:[a.jsx("div",{className:"sb-sidenav-menu-heading",children:"Principal"}),a.jsxs(C,{onClick:n,className:"nav-link",to:"/administracion",children:[a.jsx("div",{className:"sb-nav-link-icon",children:a.jsx("i",{className:"fas fa-tachometer-alt"})}),"Menu"]}),a.jsx("div",{className:"sb-sidenav-menu-heading",children:"Administracion"}),a.jsxs(C,{onClick:n,to:"/administracion/productos",className:"nav-link collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapseLayouts","aria-expanded":"false","aria-controls":"collapseLayouts",children:[a.jsx("div",{className:"sb-nav-link-icon",children:a.jsx("i",{className:"fas fa-columns"})}),"Productos",a.jsx("div",{className:"sb-sidenav-collapse-arrow",children:a.jsx("i",{className:"fas fa-angle-down"})})]}),a.jsxs(C,{onClick:n,to:"/administracion/mediosDePago",className:"nav-link collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapsePages","aria-expanded":"false","aria-controls":"collapsePages",children:[a.jsx("div",{className:"sb-nav-link-icon",children:a.jsx("i",{className:"fa fa-credit-card-alt"})}),"Medios de pago",a.jsx("div",{className:"sb-sidenav-collapse-arrow",children:a.jsx("i",{className:"fas fa-angle-down"})})]}),a.jsx("div",{className:"sb-sidenav-menu-heading",children:"Informacion"}),a.jsxs(C,{onClick:n,to:"/administracion/historial",className:"nav-link collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapsePages","aria-expanded":"false","aria-controls":"collapsePages",children:[a.jsx("div",{className:"sb-nav-link-icon",children:a.jsx("i",{className:"fas fa-book-open"})}),"Historial de ventas",a.jsx("div",{className:"sb-sidenav-collapse-arrow",children:a.jsx("i",{className:"fas fa-angle-down"})})]})]})}),a.jsxs("div",{className:"sb-sidenav-footer",style:{borderRadius:"6px"},children:[a.jsxs("div",{className:"medium",children:["Usuario: ",o.username]}),a.jsx("button",{onClick:()=>i(),className:"btn btn-dark",children:"Cerrar Sesion"})]})]})})]})]})},M=c.forwardRef(({id:e,title:r,children:l,bsPrefix:o,className:n,rootCloseEvent:t,menuRole:i,disabled:d,active:x,renderMenuOnMount:v,menuVariant:m,...s},p)=>{const g=u(void 0,"nav-item");return a.jsxs(h,{ref:p,...s,className:j(n,g),children:[a.jsx(h.Toggle,{id:e,eventKey:null,active:x,disabled:d,childBsPrefix:o,as:la,children:r}),a.jsx(h.Menu,{role:i,renderOnMount:v,rootCloseEvent:t,variant:m,children:l})]})});M.displayName="NavDropdown";const b=Object.assign(M,{Item:h.Item,ItemText:h.ItemText,Divider:h.Divider,Header:h.Header}),P=()=>{const e=I(),r=R(),l=y(s=>s.cart.show),o=y(s=>s.cart.items),n=()=>e(J(!l)),t=s=>{e(Q(s))},i=s=>{r(`/${s.table}/${s.id}`),n()},d=s=>{e(W(s))},x=s=>{s.amount===s.amountToBuy?O.fire({title:"No hay mas en stock!",icon:"info",confirmButtonText:"Aceptar",confirmButtonColor:"#000"}):e(X(s))},v=()=>{let s=0;return o.map(p=>s+=p.price*p.amountToBuy),$(s)},m=()=>{o.length===0?O.fire({title:"El carrito esta vacio",icon:"info",confirmButtonText:"Aceptar",confirmButtonColor:"#000"}):(r("/finalizarCompra"),n())};return a.jsxs("div",{children:[a.jsxs("button",{onClick:n,style:{border:"none",backgroundColor:"inherit",display:"flex",justifyContent:"center",alignItems:"center"},children:[a.jsx(ma,{}),a.jsx("span",{className:"badge",style:{backgroundColor:"inherit",color:"#000",padding:"0px",paddingLeft:"4px"},children:o.length})]}),a.jsxs(f,{show:l,onHide:n,placement:"end",children:[a.jsx(f.Header,{closeButton:!0,children:a.jsx(f.Title,{children:"Carrito"})}),a.jsxs(f.Body,{children:[o.map((s,p)=>a.jsxs("div",{className:"productInCart",children:[a.jsx("div",{onClick:()=>i(s),className:"imagen-en-carrito",style:{cursor:"pointer"},children:a.jsx("img",{src:s.img,height:"150px",width:"150px",alt:"pacuco guardapolvos. carrito. compras"})}),a.jsxs("div",{className:"detalles-prod-carrito",children:[a.jsx("p",{className:"nombre-producto",children:s.name}),a.jsxs("p",{children:["Precio: $ ",$(s.price)]}),a.jsxs("p",{children:[a.jsx("button",{onClick:()=>d(s),className:"boton-restar-uno",children:"-"}),a.jsx("span",{id:"cantidad",children:s.amountToBuy}),a.jsx("button",{onClick:()=>x(s),className:"boton-sumar-uno",children:"+"})]}),a.jsxs("div",{className:"size-and-delete",children:[a.jsxs("p",{children:["Talle: ",s.size," "]}),a.jsx("button",{onClick:()=>t(s),className:"boton-eliminar",children:a.jsx("i",{className:"fas fa-trash-alt"})})]})]})]},p)),a.jsxs("p",{className:"precioProducto",children:["Precio total: $ ",v()]}),a.jsx("button",{onClick:()=>e(_()),className:"btn btn-light",children:"Vaciar carrito"}),a.jsx("button",{onClick:()=>m(),className:"boton-comprar",children:"Finalizar compra"})]})]})]})},Fa=()=>{const e=I(),r=R(),l=Y(),o=y(s=>s.filter.search.toLowerCase()),[n,t]=c.useState(!1),[i,d]=c.useState(!1),x=()=>t(!n),v=async()=>{if(o!==""){const p=(await aa.getAll()).filter(g=>pa(o,g));e(sa(p)),e(ea(p)),r("/busqueda")}},m=()=>{d(!0),v(),e(na(o)),e(oa("")),setTimeout(()=>{d(!1)},1e3)};return a.jsx("div",{children:i?a.jsx(Z,{}):a.jsxs(k,{expand:"lg",fixed:"top",className:"nav-bar-drop",children:[a.jsxs(D,{children:[a.jsx("div",{className:"d-lg-none me-2 ml-5",children:a.jsx(P,{})}),a.jsx(k.Brand,{href:"/",children:"PACUCO"}),l.pathname.includes("/administracion")?a.jsx(xa,{}):a.jsxs(a.Fragment,{children:[a.jsx(k.Toggle,{"aria-controls":"basic-navbar-nav",onClick:x}),a.jsx(k.Collapse,{in:n,id:"basic-navbar-nav",style:{zIndex:"55"},children:a.jsxs(B,{className:"my-2 my-lg-0",children:[a.jsx("div",{className:"d-none d-lg-block",children:a.jsx(L,{displaySearch:m,filtrateSearch:v})}),a.jsx(B.Link,{href:"/",children:"INICIO"}),a.jsxs(b,{title:"GUARDAPOLVOS",id:"basic-nav-dropdown",className:"drop-down-menu-custom",children:[a.jsx(b.Item,{href:"/nivel_inicial",children:"Nivel Inicial"}),a.jsx(b.Item,{href:"/primaria",children:"Primaria / Color"}),a.jsx(b.Item,{href:"/stock",children:"Stock / Entrega inmediata"}),a.jsx(b.Item,{href:"/guardapolvos",children:"Ver todos los guardapolvos"})]}),a.jsx("div",{className:"d-none d-lg-block",style:{marginLeft:"5px"},children:a.jsx(P,{})})]})})]})]}),a.jsx("div",{className:"d-lg-none",style:{backgroundColor:"#fff",padding:"4px",zIndex:"50",borderBottom:"1px solid #f1f1f1"},children:a.jsx(L,{displaySearch:m,filtrateSearch:v})})]})})};export{Fa as default};

import{j as e,F as i,S as T,g as K,c as U,d as xe,e as te,i as pe,r as f,o as ve,f as je,l as be,h as J,k as q,m as Q,n as ye,p as Ce,q as we,t as ke,v as R,w as M,x as ne,y as X,z as Ne,A as Z,B as H,P as Se,C as Te,D as Ie,E as Be,G as F,b as oe,H as $,I as Ee,N as Pe,J as Y,K as Fe,M as Oe,O as Re,u as se,Q as De,T as $e,U as Me,V as Le,W as Ae,X as ze}from"./index-BYI72lMw.js";import{U as O,i as ae,T as Ge,g as _e,a as He,b as Ke,c as G}from"./Tab-CLzO1m4A.js";import{s as V}from"./token-By_1sbaR.js";import{M as B}from"./Modal-CjvkFOyP.js";import{A as Ue}from"./Alert-CniozZ05.js";import{P as qe}from"./PaginationProductos-CxCD_tO7.js";const ie=({amount:t,size:o,formData:s,handleInputChange:d})=>{const c={display:"flex",justifyContent:"space-around",gap:"5px"},n={width:"50%"};return e.jsxs("div",{style:c,children:[e.jsxs(i.Group,{className:"mb-3",controlId:"controlInput2",style:n,children:[e.jsxs(i.Label,{children:[e.jsxs("strong",{children:["Cantidad",t!==""?":":""," "]}),t]}),e.jsx(i.Control,{type:"text",name:"amount",placeholder:"nueva cantidad",value:s.amount,onChange:d})]}),e.jsxs(i.Group,{className:"mb-3",controlId:"controlInput2",style:n,children:[e.jsxs(i.Label,{children:[e.jsxs("strong",{children:["Talle",t!==""?":":""," "]}),o]}),e.jsx(i.Control,{type:"text",name:"size",placeholder:"nuevo talle",value:s.size,onChange:d})]})]})},Ve=(t,o)=>{T.fire({title:"Estas segura que queres eliminar el guardapolvo?",icon:"question",confirmButtonText:"Aceptar",confirmButtonColor:"#000",showDenyButton:!0,denyButtonText:"Cancelar"}).then(async s=>{if(s.isConfirmed)try{const d=V(o.token);await K.deleteGuardapolvo(t,d),T.fire({title:"Guardapolvo eliminado correctamente!",icon:"success",confirmButtonText:"Aceptar",confirmButtonColor:"#000"}).then(c=>{c.isConfirmed&&U(.5)})}catch(d){console.error("Error:",d),T.fire({title:"Error",text:"No se pudo eliminar el guardapolvo",icon:"error",confirmButtonText:"Aceptar",confirmButtonColor:"#000"}),d.response.data.error==="token expired"&&navigate("/login")}})},We=()=>{};function Je(t,o,{disabled:s,clickTrigger:d}={}){const c=o||We;xe(t,c,{disabled:s,clickTrigger:d});const n=te(x=>{pe(x)&&c(x)});f.useEffect(()=>{if(s||t==null)return;const x=ve(je(t));let a=(x.defaultView||window).event;const p=be(x,"keyup",v=>{if(v===a){a=void 0;return}n(v)});return()=>{p()}},[t,s,n])}const re=f.forwardRef((t,o)=>{const{flip:s,offset:d,placement:c,containerPadding:n,popperConfig:x={},transition:a,runTransition:p}=t,[v,C]=J(),[b,y]=J(),r=q(C,o),l=Q(t.container),m=Q(t.target),[u,h]=f.useState(!t.show),j=ye(m,v,Ce({placement:c,enableEvents:!!t.show,containerPadding:n||5,flip:s,offset:d,arrowElement:b,popperConfig:x}));t.show&&u&&h(!1);const w=(...A)=>{h(!0),t.onExited&&t.onExited(...A)},k=t.show||!u;if(Je(v,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!k)return null;const{onExit:E,onExiting:N,onEnter:g,onEntering:S,onEntered:L}=t;let D=t.children(Object.assign({},j.attributes.popper,{style:j.styles.popper,ref:r}),{popper:j,placement:c,show:!!t.show,arrowProps:Object.assign({},j.attributes.arrow,{style:j.styles.arrow,ref:y})});return D=we(a,p,{in:!!t.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:D,onExit:E,onExiting:N,onExited:w,onEnter:g,onEntering:S,onEntered:L}),l?ke.createPortal(D,l):null});re.displayName="Overlay";const le=f.forwardRef(({className:t,bsPrefix:o,as:s="div",...d},c)=>(o=R(o,"popover-header"),e.jsx(s,{ref:c,className:M(t,o),...d})));le.displayName="PopoverHeader";const W=f.forwardRef(({className:t,bsPrefix:o,as:s="div",...d},c)=>(o=R(o,"popover-body"),e.jsx(s,{ref:c,className:M(t,o),...d})));W.displayName="PopoverBody";function ce(t,o){let s=t;return t==="left"?s=o?"end":"start":t==="right"&&(s=o?"start":"end"),s}function de(t="absolute"){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const Qe=f.forwardRef(({bsPrefix:t,placement:o="right",className:s,style:d,children:c,body:n,arrowProps:x,hasDoneInitialMeasure:a,popper:p,show:v,...C},b)=>{const y=R(t,"popover"),r=ne(),[l]=(o==null?void 0:o.split("-"))||[],m=ce(l,r);let u=d;return v&&!a&&(u={...d,...de(p==null?void 0:p.strategy)}),e.jsxs("div",{ref:b,role:"tooltip",style:u,"x-placement":l,className:M(s,y,l&&`bs-popover-${m}`),...C,children:[e.jsx("div",{className:"popover-arrow",...x}),n?e.jsx(W,{children:c}):c]})}),Xe=Object.assign(Qe,{Header:le,Body:W,POPPER_OFFSET:[0,8]}),ue=f.forwardRef(({bsPrefix:t,placement:o="right",className:s,style:d,children:c,arrowProps:n,hasDoneInitialMeasure:x,popper:a,show:p,...v},C)=>{t=R(t,"tooltip");const b=ne(),[y]=(o==null?void 0:o.split("-"))||[],r=ce(y,b);let l=d;return p&&!x&&(l={...d,...de(a==null?void 0:a.strategy)}),e.jsxs("div",{ref:C,style:l,role:"tooltip","x-placement":y,className:M(s,t,`bs-tooltip-${r}`),...v,children:[e.jsx("div",{className:"tooltip-arrow",...n}),e.jsx("div",{className:`${t}-inner`,children:c})]})});ue.displayName="Tooltip";const me=Object.assign(ue,{TOOLTIP_OFFSET:[0,6]});function Ze(t){const o=f.useRef(null),s=R(void 0,"popover"),d=R(void 0,"tooltip"),c=f.useMemo(()=>({name:"offset",options:{offset:()=>{if(t)return t;if(o.current){if(X(o.current,s))return Xe.POPPER_OFFSET;if(X(o.current,d))return me.TOOLTIP_OFFSET}return[0,0]}}}),[t,s,d]);return[o,[c]]}function Ye(t,o){const{ref:s}=t,{ref:d}=o;t.ref=s.__wrapped||(s.__wrapped=c=>s(H(c))),o.ref=d.__wrapped||(d.__wrapped=c=>d(H(c)))}const he=f.forwardRef(({children:t,transition:o=Z,popperConfig:s={},rootClose:d=!1,placement:c="top",show:n=!1,...x},a)=>{const p=f.useRef({}),[v,C]=f.useState(null),[b,y]=Ze(x.offset),r=q(a,b),l=o===!0?Z:o||void 0,m=te(u=>{C(u),s==null||s.onFirstUpdate==null||s.onFirstUpdate(u)});return Ne(()=>{v&&x.target&&(p.current.scheduleUpdate==null||p.current.scheduleUpdate())},[v,x.target]),f.useEffect(()=>{n||C(null)},[n]),e.jsx(re,{...x,ref:r,popperConfig:{...s,modifiers:y.concat(s.modifiers||[]),onFirstUpdate:m},transition:l,rootClose:d,placement:c,show:n,children:(u,{arrowProps:h,popper:j,show:w})=>{var k,E;Ye(u,h);const N=j==null?void 0:j.placement,g=Object.assign(p.current,{state:j==null?void 0:j.state,scheduleUpdate:j==null?void 0:j.update,placement:N,outOfBoundaries:(j==null||(k=j.state)==null||(E=k.modifiersData.hide)==null?void 0:E.isReferenceHidden)||!1,strategy:s.strategy}),S=!!v;return typeof t=="function"?t({...u,placement:N,show:w,...!o&&w&&{className:"show"},popper:g,arrowProps:h,hasDoneInitialMeasure:S}):f.cloneElement(t,{...u,placement:N,arrowProps:h,popper:g,hasDoneInitialMeasure:S,className:M(t.props.className,!o&&w&&"show"),style:{...t.props.style,...u.style}})}})});he.displayName="Overlay";function et(t){return t&&typeof t=="object"?t:{show:t,hide:t}}function ee(t,o,s){const[d]=o,c=d.currentTarget,n=d.relatedTarget||d.nativeEvent[s];(!n||n!==c)&&!Be(c,n)&&t(...o)}Se.oneOf(["click","hover","focus"]);const tt=({trigger:t=["hover","focus"],overlay:o,children:s,popperConfig:d={},show:c,defaultShow:n=!1,onToggle:x,delay:a,placement:p,flip:v=p&&p.indexOf("auto")!==-1,...C})=>{const b=f.useRef(null),y=q(b,s.ref),r=Te(),l=f.useRef(""),[m,u]=Ie(c,n,x),h=et(a),{onFocus:j,onBlur:w,onClick:k}=typeof s!="function"?f.Children.only(s).props:{},E=I=>{y(H(I))},N=f.useCallback(()=>{if(r.clear(),l.current="show",!h.show){u(!0);return}r.set(()=>{l.current==="show"&&u(!0)},h.show)},[h.show,u,r]),g=f.useCallback(()=>{if(r.clear(),l.current="hide",!h.hide){u(!1);return}r.set(()=>{l.current==="hide"&&u(!1)},h.hide)},[h.hide,u,r]),S=f.useCallback((...I)=>{N(),j==null||j(...I)},[N,j]),L=f.useCallback((...I)=>{g(),w==null||w(...I)},[g,w]),D=f.useCallback((...I)=>{u(!m),k==null||k(...I)},[k,u,m]),A=f.useCallback((...I)=>{ee(N,I,"fromElement")},[N]),fe=f.useCallback((...I)=>{ee(g,I,"toElement")},[g]),z=t==null?[]:[].concat(t),P={ref:E};return z.indexOf("click")!==-1&&(P.onClick=D),z.indexOf("focus")!==-1&&(P.onFocus=S,P.onBlur=L),z.indexOf("hover")!==-1&&(P.onMouseOver=A,P.onMouseOut=fe),e.jsxs(e.Fragment,{children:[typeof s=="function"?s(P):f.cloneElement(s,P),e.jsx(he,{...C,show:m,onHide:g,flip:v,placement:p,popperConfig:d,target:b.current,children:o})]})},nt=t=>{const o=F(r=>r.login),s=oe(),[d,c]=f.useState([]),[n,x]=f.useState({id:"",name:"",price:"",discountPrice:"",amount:"",size:"",description:{general:"",base:"",detalle:"",vivos:"",bolsillos:""},img:"",img2:"",img3:""});f.useEffect(()=>{x({...n,description:{...n.description,general:t.item.description?t.item.description.general:""}})},[t.item]);const a=r=>{const{name:l,value:m}=r.target;x(l==="base"||l==="general"||l==="detalle"||l==="vivos"||l==="bolsillos"?{...n,description:{...n.description,[l]:m}}:{...n,[l]:m})},p=r=>{const l=r.target.files[0];if(!l)return;const m=r.target.name;m==="imageFront"?x(u=>({...u,img:l.name})):m==="imageBack"?x(u=>({...u,img2:l.name})):m==="imageSizes"&&x(u=>({...u,img3:l.name})),c(u=>[...u,l])},v=async r=>{r.preventDefault();const l=Date.now()+"-"+Math.round(Math.random()*1e9);let m="";/prueba[\$0-9]/.test(t.item.name)&&(m="-dev");const u={img:n.img!==""?`${O}${m}/${l}-${n.img}`:t.item.img,img2:n.img2!==""?`${O}${m}/${l}-${n.img2}`:t.item.img2,img3:n.img3!==""?`${O}${m}/${l}-${n.img3}`:t.item.img3,name:n.name!==""?n.name:t.item.name,price:n.price!==""?n.price:t.item.price,discountPrice:n.discountPrice!==""?n.discountPrice:t.item.discountPrice,amount:n.amount!==""?n.amount:t.item.amount,size:n.size!==""?n.size:t.item.size,description:{general:n.description.general!==""?n.description.general:t.item.description.general,base:n.description.base!==""?n.description.base:t.item.description.base,detalle:n.description.detalle!==""?n.description.detalle:t.item.description.detalle,vivos:n.description.vivos!==""?n.description.vivos:t.item.description.vivos,bolsillos:n.description.bolsillos!==""?n.description.bolsillos:t.item.description.bolsillos}},h=new FormData;h.append("blobName",l),h.append("containerName","guardapolvos");try{T.fire({title:"Estas segura que queres modificar?",icon:"question",confirmButtonText:"Aceptar",confirmButtonColor:"#000",showDenyButton:!0,denyButtonText:"Cancelar"}).then(async j=>{if(j.isConfirmed){try{const w=V(o.token);await K.update(t.item.id,u,w),d.forEach(k=>{h.append("images",k)}),await ae.upload(h,w)}catch(w){if(w.response.status===401)T.fire({title:"Se cerro tu sesion!",text:"Deberas iniciar sesion nuevamente",icon:"error",confirmButtonText:"Aceptar",confirmButtonColor:"#000"}).then(k=>{if(k.isConfirmed){s("/login");return}});else{console.log(w),T.fire({title:"Error inesperado",text:"Intentalo nuevamente mas tarde.",icon:"error",confirmButtonText:"Aceptar",confirmButtonColor:"#000"});return}}T.fire({title:`${t.item.name} modificado!`,icon:"success",confirmButtonText:"Aceptar",confirmButtonColor:"#000"}).then(()=>{U(.5),t.onHide()})}})}catch(j){console.error("Error:",j),T.fire({title:"Error",text:"No se pudo modificar el producto",icon:"error",confirmButtonText:"Aceptar",confirmButtonColor:"#000"})}},C={display:"flex",justifyContent:"space-around",gap:"5px"},b={width:"50%"},y=r=>e.jsx(me,{id:"button-tooltip",...r,children:"Una vez agregado un descuento, el precio actual se mantiene (aparece tachado), pero el precio que se muestra a los clientes es el del descuento. Para sacar el descuento aplicado, hay que darle un nuevo valor de 0"});return e.jsxs(B,{...t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[e.jsx(B.Header,{closeButton:!0,children:e.jsxs(B.Title,{id:"contained-modal-title-vcenter",children:["Modificar ",t.item.name]})}),e.jsx(B.Body,{children:e.jsxs(i,{onSubmit:v,encType:"multipart/form-data",children:[e.jsxs(i.Group,{className:"mb-3",controlId:"controlInput1",children:[e.jsxs(i.Label,{children:[e.jsx("strong",{children:"Nombre actual:"})," ",t.item.name]}),e.jsx(i.Control,{type:"text",name:"name",placeholder:"nuevo nombre",value:n.name,onChange:a})]}),e.jsxs("div",{style:C,children:[e.jsxs(i.Group,{className:"mb-3",controlId:"controlInput2",style:t.table==="stock"?{width:"50%"}:{width:"100%"},children:[e.jsxs(i.Label,{children:[e.jsx("strong",{children:"Precio actual:"})," $ ",t.item.price]}),e.jsx(i.Control,{type:"text",name:"price",placeholder:"nuevo precio",value:n.price,onChange:a})]}),t.table==="stock"&&e.jsxs(i.Group,{className:"mb-3",controlId:"controlInput3",style:{width:"50%"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(i.Label,{children:[e.jsx("strong",{children:"Descuento actual:"})," $ ",t.item.discountPrice||t.item.discountPrice>0?t.item.discountPrice:"0"]}),e.jsx(tt,{placement:"right",delay:{show:250,hide:400},overlay:y,children:e.jsx("div",{children:e.jsx("i",{className:"bi bi-info-circle",style:{marginRight:"auto",width:"100%"}})})})]}),e.jsx(i.Control,{type:"text",name:"discountPrice",placeholder:"nuevo descuento",value:n.discountPrice,onChange:a})]})]}),t.table==="stock"?e.jsx(ie,{amount:t.item.amount,size:t.item.size,formData:n,handleInputChange:a}):null,e.jsxs(i.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[e.jsx(i.Label,{children:e.jsx("strong",{children:"Descripcion actual:"})}),e.jsxs("div",{style:C,children:[e.jsxs("div",{style:b,children:[e.jsx("strong",{children:"Base:"})," ",t.item.description!==void 0?t.item.description.base:null,e.jsx(i.Control,{style:{marginBottom:"5px"},type:"text",placeholder:"nueva base",name:"base",onChange:a,value:n.description.base})]}),e.jsxs("div",{style:b,children:[e.jsx("strong",{children:"Detalle:"})," ",t.item.description!==void 0?t.item.description.detalle:null,e.jsx(i.Control,{style:{marginBottom:"5px"},type:"text",placeholder:"nuevo detalle",name:"detalle",onChange:a,value:n.description.detalle})]})]}),e.jsxs("div",{style:C,children:[e.jsxs("div",{style:b,children:[e.jsx("strong",{children:"Vivos:"})," ",t.item.description?t.item.description.vivos:null,e.jsx(i.Control,{style:{marginBottom:"5px"},type:"text",placeholder:"nuevo vivo",name:"vivos",onChange:a,value:n.description.vivos})]}),e.jsxs("div",{style:b,children:[e.jsx("strong",{children:"Bolsillos:"})," ",t.item.description?t.item.description.bolsillos:null,e.jsx(i.Control,{style:{marginBottom:"5px"},type:"text",placeholder:"nuevo bolsillos",name:"bolsillos",onChange:a,value:n.description.bolsillos})]})]}),e.jsx(i.Control,{as:"textarea",placeholder:"nueva descripcion",name:"general",onChange:a,value:n.description.general,rows:4})]}),e.jsxs(i.Group,{className:"mb-3",controlId:"formFile",children:[e.jsx(i.Label,{children:e.jsx("strong",{children:"Imagen Frente"})}),e.jsx(i.Control,{type:"file",name:"imageFront",onChange:p})]}),e.jsxs(i.Group,{className:"mb-3",controlId:"formFile",children:[e.jsx(i.Label,{children:e.jsx("strong",{children:"Imagen Dorso"})}),e.jsx(i.Control,{type:"file",name:"imageBack",onChange:p})]}),t.table==="stock"?e.jsxs(i.Group,{className:"mb-3",controlId:"formFile",children:[e.jsx(i.Label,{children:e.jsx("strong",{children:"Imagen Talles"})}),e.jsx(i.Control,{type:"file",name:"imageSizes",onChange:p})]}):null]})}),e.jsxs(B.Footer,{children:[e.jsx($,{variant:"danger",onClick:()=>Ve(t.item.id,o),style:{marginRight:"auto"},children:"Eliminar guardapolvo"}),e.jsx($,{variant:"secondary",onClick:t.onHide,children:"Cerrar"}),e.jsx($,{variant:"dark",onClick:v,children:"Guardar Cambios"})]})]})},ot=t=>{const o=oe(),s=F(y=>y.login),[d,c]=f.useState({display:"none",text:""}),[n,x]=f.useState([]),[a,p]=f.useState({name:"",price:"",description:{general:"",base:"",detalle:"",vivos:"",bolsillos:""},amount:"",amountToBuy:1,size:"",table:t.table,img:"",img2:"",img3:"",imgs:[]}),v=y=>{const{name:r,value:l}=y.target;p(r==="base"||r==="general"||r==="detalle"||r==="vivos"||r==="bolsillos"?{...a,description:{...a.description,[r]:l}}:{...a,[r]:l})},C=y=>{const r=y.target.files[0];if(!r)return;const l=y.target.name;l==="imageFront"?p(m=>({...m,img:r.name})):l==="imageBack"?p(m=>({...m,img2:r.name})):l==="imageSizes"&&p(m=>({...m,img3:r.name})),x(m=>[...m,r]),p(m=>({...m,imgs:[...a.imgs,r.name]}))},b=async y=>{y.preventDefault();const r=Date.now()+"-"+Math.round(Math.random()*1e9);if(a.name===""){c({display:"block",text:"Ingresar nombre"});return}else if(a.price===""){c({display:"block",text:"Ingresar precio"});return}else if(a.description.general===""){c({display:"block",text:"Ingresar descripcion"});return}else if(a.img===""){c({display:"block",text:"Ingresar imagen frente"});return}else if(a.img2===""){c({display:"block",text:"Ingresar dorso"});return}if(t.table==="stock"){if(a.amount===""){c({display:"block",text:"Ingresar cantidad"});return}else if(a.size===""){c({display:"block",text:"Ingresar talle"});return}}c({display:"none",text:""});let l="";/prueba[\$0-9]/.test(a.name)&&(l="-dev");const m=a;m.img=`${O}${l}/${r}-${a.img}`,m.img2=`${O}${l}/${r}-${a.img2}`,m.img3=a.img3!==""?`${O}${l}/${r}-${a.img3}`:void 0,m.table=t.table;const u=new FormData;u.append("blobName",r),u.append("containerName","guardapolvos");try{T.fire({title:`Estas segura que queres agregar ${a.name}?`,icon:"question",confirmButtonText:"Aceptar",confirmButtonColor:"#000",showDenyButton:!0,denyButtonText:"Cancelar"}).then(async h=>{if(h.isConfirmed){try{const j=V(s.token);await K.create(a,j),n.forEach(w=>{u.append("images",w)}),await ae.upload(u,j)}catch(j){j.response.status===401&&T.fire({title:"Se cerro tu sesion!",text:"Deberas iniciar sesion nuevamente",icon:"error",confirmButtonText:"Aceptar",confirmButtonColor:"#000"}).then(w=>{w.isConfirmed&&o("/login")}),console.log(j);return}T.fire({title:`${a.name} agregado!`,icon:"success",confirmButtonText:"Aceptar",confirmButtonColor:"#000"}).then(()=>{U(.5),t.onHide()})}})}catch(h){console.error("Error:",h)}};return e.jsxs(B,{...t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[e.jsx(B.Header,{closeButton:!0,children:e.jsx(B.Title,{id:"contained-modal-title-vcenter",children:"Agregar nuevo guardapolvo"})}),e.jsx(Ue,{variant:"danger",style:{display:`${d.display}`},children:d.text},"danger"),e.jsx(B.Body,{children:e.jsxs(i,{onSubmit:b,encType:"multipart/form-data",children:[e.jsxs(i.Group,{className:"mb-3",controlId:"controlInput1",children:[e.jsx(i.Label,{children:e.jsx("strong",{children:"Nombre"})}),e.jsx(i.Control,{type:"text",name:"name",placeholder:"nuevo nombre",value:a.name,onChange:v})]}),e.jsxs(i.Group,{className:"mb-3",controlId:"controlInput2",children:[e.jsx(i.Label,{children:e.jsx("strong",{children:"Precio"})}),e.jsx(i.Control,{type:"text",name:"price",placeholder:"nuevo precio",value:a.price,onChange:v})]}),t.table==="stock"?e.jsx(ie,{amount:"",size:"",formData:a,handleInputChange:v}):null,e.jsxs(i.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[e.jsx(i.Label,{children:e.jsx("strong",{children:"Descripcion"})}),e.jsx(i.Control,{style:{marginBottom:"5px"},type:"text",placeholder:"nueva base",name:"base",onChange:v,value:a.description.base}),e.jsx(i.Control,{style:{marginBottom:"5px"},type:"text",placeholder:"nuevo detalle",name:"detalle",onChange:v,value:a.description.detalle}),e.jsx(i.Control,{style:{marginBottom:"5px"},type:"text",placeholder:"nuevo vivo",name:"vivos",onChange:v,value:a.description.vivos}),e.jsx(i.Control,{style:{marginBottom:"5px"},type:"text",placeholder:"nuevo bolsillos",name:"bolsillos",onChange:v,value:a.description.bolsillos}),e.jsx(i.Control,{as:"textarea",placeholder:"nueva descripcion general",name:"general",onChange:v,value:a.description.general,rows:3})]}),e.jsxs(i.Group,{className:"mb-3",controlId:"formFile",children:[e.jsx(i.Label,{children:e.jsx("strong",{children:"Imagen Frente"})}),e.jsx(i.Control,{type:"file",name:"imageFront",onChange:C})]}),e.jsxs(i.Group,{className:"mb-3",controlId:"formFile",children:[e.jsx(i.Label,{children:e.jsx("strong",{children:"Imagen Dorso"})}),e.jsx(i.Control,{type:"file",name:"imageBack",onChange:C})]}),t.table==="stock"?e.jsxs(i.Group,{className:"mb-3",controlId:"formFile",children:[e.jsx(i.Label,{children:e.jsx("strong",{children:"Imagen Talles"})}),e.jsx(i.Control,{type:"file",name:"imageSizes",onChange:C})]}):null]})}),e.jsxs(B.Footer,{children:[e.jsx($,{variant:"secondary",onClick:t.onHide,children:"Cerrar"}),e.jsx($,{variant:"dark",onClick:b,children:"Guardar Cambios"})]})]})};function st(t){let o;return Fe(t,s=>{o==null&&(o=s.props.eventKey)}),o}function at(t){const{title:o,eventKey:s,disabled:d,tabClassName:c,tabAttrs:n,id:x}=t.props;return o==null?null:e.jsx(Oe,{as:"li",role:"presentation",children:e.jsx(Re,{as:"button",type:"button",eventKey:s,disabled:d,id:x,className:c,...n,children:o})})}const ge=t=>{const{id:o,onSelect:s,transition:d,mountOnEnter:c=!1,unmountOnExit:n=!1,variant:x="tabs",children:a,activeKey:p=st(a),...v}=Ee(t,{activeKey:"onSelect"});return e.jsxs(Ge,{id:o,activeKey:p,onSelect:s,transition:_e(d),mountOnEnter:c,unmountOnExit:n,children:[e.jsx(Pe,{id:o,...v,role:"tablist",as:"ul",variant:x,children:Y(a,at)}),e.jsx(He,{children:Y(a,C=>{const b={...C.props};return delete b.title,delete b.disabled,delete b.tabClassName,delete b.tabAttrs,e.jsx(Ke,{...b})})})]})};ge.displayName="Tabs";const _=({title:t,table:o,guardapolvosList:s,showCreateModal:d,showEditModal:c})=>{const[n,x]=f.useState(!1),[a,p]=f.useState(s),v=F(g=>g.filter.search.toLowerCase()),C=se(),[b,y]=f.useState(1),r=6,l=a.length,m=Math.ceil(l/r),u=g=>{y(g)},h=()=>{const g=(b-1)*r,S=g+r;return a.slice(g,S)},j=()=>{if(x(!0),v!==""){y(1);const g=s.filter(S=>Le(v,S));p(g)}else w();setTimeout(()=>{x(!1)},1e3)},w=()=>{C(Ae("")),p(s)},k=g=>{T.fire({imageUrl:g,showConfirmButton:!1})},E={margin:"0px",fontSize:"16px",background:"inherit",border:"none"},N={marginRight:"5px",cursor:"pointer",fontSize:"13px",display:"flex",alignItems:"center",backgroundColor:"#f3f3f3",padding:"4px",borderRadius:"6px"};return e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex w-100",children:[e.jsx("h4",{className:"label-titulos",children:t}),e.jsxs("div",{style:{marginLeft:"auto",display:"flex"},children:[a.length!==s.length?e.jsx("div",{onClick:()=>w(),style:N,children:"reiniciar"}):null,e.jsx("div",{children:e.jsx(De,{displaySearch:j,filtrateSearch:null})}),e.jsx("button",{onClick:()=>d(o),style:E,children:e.jsx($e,{width:"20",height:"20"})})]})]}),n?e.jsx(Me,{}):e.jsxs("div",{className:"tabla-container",children:[e.jsxs("table",{className:"tabla-de-productoss",children:[e.jsx("thead",{children:o==="stock"?e.jsxs("tr",{className:"tr-tabla-productos",children:[e.jsx("th",{children:"Nombre"}),e.jsx("th",{children:"Precio"}),e.jsx("th",{children:"Cantidad"}),e.jsx("th",{children:"Talle"}),e.jsx("th",{children:"Frente"}),e.jsx("th",{children:"Dorso"}),e.jsx("th",{style:{width:"50px"},children:"Descuento"}),e.jsx("th",{})]}):e.jsxs("tr",{className:"tr-tabla-productos",children:[e.jsx("th",{children:"Nombre"}),e.jsx("th",{children:"Precio"}),e.jsx("th",{children:"Frente"}),e.jsx("th",{children:"Dorso"}),e.jsx("th",{children:"Editar"})]})}),h().map((g,S)=>e.jsx("tbody",{children:e.jsxs("tr",{className:"tr-tabla-productos",children:[e.jsx("td",{children:g.name}),e.jsxs("td",{children:["$ ",g.discountPrice||g.discountPrice>0?g.discountPrice:g.price]}),o==="stock"?e.jsx("td",{children:g.amount}):"",o==="stock"?e.jsx("td",{children:g.size}):"",e.jsx("td",{children:e.jsx("img",{src:g.img,onClick:()=>k(g.img),alt:g.description.general,className:"small-img-admin",style:{cursor:"pointer"}})}),e.jsx("td",{children:e.jsx("img",{src:g.img2,onClick:()=>k(g.img2),alt:g.description.general,className:"small-img-admin",style:{cursor:"pointer"}})}),o==="stock"?e.jsx("td",{children:g.discountPrice||g.discountPrice>0?e.jsx("i",{className:"bi bi-check-lg",style:{color:"green"}}):e.jsx("i",{className:"bi bi-x-lg",style:{color:"red"}})}):"",e.jsx("td",{onClick:()=>c(g,o),style:{cursor:"pointer"},children:e.jsx("i",{className:"bi bi-pencil-square"})})]})},S))]}),e.jsx(qe,{currentPage:b,totalPages:m,onPageChange:u})]})]})},mt=()=>{const t=F(h=>h.guardapolvos.nivelInicial),o=F(h=>h.guardapolvos.primaria),s=F(h=>h.guardapolvos.stock),d=F(h=>h.administration.tabChoosen),c=se(),[n,x]=f.useState(!1),[a,p]=f.useState(!1),[v,C]=f.useState(""),[b,y]=f.useState({}),r=(h,j)=>{p(!0),C(j),y(h)},l=h=>{C(h),x(!0)},m=h=>{c(ze(h))},u={width:"100%"};return e.jsx("div",{children:e.jsx("div",{children:e.jsxs("div",{className:"contenedor-tablas-productos",children:[e.jsx("div",{style:{width:"100%",backgroundColor:"#fff",padding:"10px"},className:"tabs-container",children:e.jsxs(ge,{defaultActiveKey:d,id:"uncontrolled-tab-example",className:"mb-3",fill:!0,onSelect:m,children:[e.jsx(G,{eventKey:"nivel_inicial",title:"Nivel Inicial",style:u,children:e.jsx(_,{title:"NIVEL INICIAL",table:"nivel_inicial",guardapolvosList:t,showCreateModal:l,showEditModal:r})}),e.jsx(G,{eventKey:"primaria",title:"Primaria",style:u,children:e.jsx(_,{title:"PRIMARIA",table:"primaria",guardapolvosList:o,showCreateModal:l,showEditModal:r})}),e.jsx(G,{eventKey:"stock",title:"Stock",style:u,children:e.jsx(_,{title:"STOCK",table:"stock",guardapolvosList:s,showCreateModal:l,showEditModal:r})})]})}),e.jsx(nt,{item:b,show:a,table:v,onHide:()=>p(!1)}),e.jsx(ot,{show:n,table:v,onHide:()=>x(!1)})]})})})};export{mt as default};

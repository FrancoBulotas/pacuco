import{b as x,r as a,u as b,a as h,j as e}from"./index-CIrkvjTd.js";import{A as y}from"./Alert-DXwc2OTX.js";const g="/api/users",f=async t=>(await x.post(g+"/create",t)).data,j={create:f},w=()=>{const[t,i]=a.useState(""),[r,c]=a.useState(""),[l,d]=a.useState(""),[n,o]=a.useState({display:"none",text:""});b();const p=h();a.useEffect(()=>{if(n.display==="block"){const s=setTimeout(()=>{o({display:"none",text:""})},2500);return()=>clearTimeout(s)}},[n]);const u=async s=>{if(s.preventDefault(),r!=l){o({display:"block",text:"Las contrase単as deben coincidir"});return}try{await j.create({username:t,password:r}),o({display:"none",text:""}),p("/login"),i(""),c(""),d("")}catch(m){console.log(m),o({display:"block",text:"Usuario y/o contrase単a incorrecto"})}};return e.jsxs("div",{style:{margin:"120px auto",marginTop:"160px",width:"400px",padding:"10px",boxShadow:"0px 4px 8px 2px rgba(0, 0, 0, 0.1)",borderRadius:"6px"},children:[e.jsx("h3",{style:{display:"flex",justifyContent:"center"},children:"Registrarse"}),e.jsx(y,{variant:"danger",style:{display:`${n.display}`},children:n.text},"danger"),e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Nombre de usuario"}),e.jsx("input",{className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",value:t,onChange:({target:s})=>i(s.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Ingresar contrase単a"}),e.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1",value:r!==void 0?r:"",onChange:({target:s})=>c(s.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Ingresar contrase単a nuevamente"}),e.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword2",value:l!==void 0?l:"",onChange:({target:s})=>d(s.value)})]}),e.jsx("button",{type:"submit",className:"btn btn-dark",children:"Registrarse"}),e.jsx("a",{href:"/login",className:"btn",style:{textDecoration:"underline"},children:"Ir a inicio de sesion"})]})]})};export{w as default};

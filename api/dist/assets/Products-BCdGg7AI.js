import{r as d,j as e,h as v,a as j,u as $,w as y,l as L,x as E,y as H,z as O,A as D,B as M,b as A,L as W,S as _,i as J}from"./index-B7gCKMKK.js";import{B as R}from"./Button-CozBTO4j.js";import{u as K,c as Q}from"./Anchor-3CuPqyzV.js";import{D as h}from"./Dropdown-BRN3n2Bq.js";import{O as b}from"./Offcanvas-B8mPUPoQ.js";import{B as S}from"./breadcrum-8QWcPwe5.js";import{f as U}from"./functions-BSpfDl0n.js";import{P as V}from"./PaginationProductos-DiT0BFGt.js";import"./TransitionWrapper-5ppP3hMQ.js";import"./DataKey-COGXBUcQ.js";import"./SSRProvider-a4K4fnkK.js";import"./useMounted-CA1dmZjP.js";import"./BootstrapModalManager-BLapAtUg.js";import"./useWillUnmount-DDVl-taq.js";import"./NoopTransition-DVFl9h6R.js";import"./divWithClassName-C082gbAY.js";import"./Fade-ByOLnFsp.js";const G=d.forwardRef(({bsPrefix:s,size:t,vertical:r=!1,className:n,role:a="group",as:c="div",...x},l)=>{const o=K(s,"btn-group");let u=o;return r&&(u=`${o}-vertical`),e.jsx(c,{...x,ref:l,role:a,className:Q(n,u,t&&`${o}-${t}`)})});G.displayName="ButtonGroup";const X=({sortGuardapolvos:s,resetProducts:t})=>{v().pathname.replace("/","");const n={backgroundColor:"#f1f1f1",display:"flex",justifyContent:"center",alignItems:"center",border:"none",borderRadius:"6px",padding:"20px",margin:"6px",width:"60px",height:"20px"};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"6px",marginBottom:"10px"},children:[e.jsx("h4",{style:{padding:"0px"},children:"Talle"}),e.jsx("div",{style:{margin:"20px 0px",border:"1px solid #e0e0e0",width:"100%"}}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[e.jsx("button",{style:n,onClick:()=>s("size","00"),children:"00 "}),e.jsx("button",{style:n,onClick:()=>s("size","0"),children:"0"}),e.jsx("button",{style:n,onClick:()=>s("size","1"),children:"1"}),e.jsx("button",{style:n,onClick:()=>s("size","2"),children:"2"}),e.jsx("button",{style:n,onClick:()=>s("size","3"),children:"3"}),e.jsx("button",{style:n,onClick:()=>s("size","4"),children:"4"}),e.jsx("button",{style:n,onClick:()=>s("size","5"),children:"5"})]})]}),e.jsx("button",{style:{marginTop:"20px"},className:"btn btn-dark",onClick:()=>t(),children:"Borrar filtros"})]})},Y=({resetProducts:s,choosenSize:t,choosenTable:r})=>{const n={position:"relative",backgroundColor:"#f1f1f1",margin:"5px",borderRadius:"6px"},a={top:"-8px",left:"0px",padding:"4px 6px",border:"none"};return e.jsx("div",{style:{margin:"10px 25px",padding:"10px",border:"1px solid #f1f1f1",borderRadius:"6px",fontSize:"14px"},children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("div",{children:"Filtros: "}),e.jsxs("div",{className:"d-flex",style:{marginLeft:"6px"},children:[t!==""&&e.jsxs("div",{style:n,children:[e.jsx("div",{style:{padding:"8px 15px"},children:t}),e.jsx("button",{onClick:()=>s(),className:"badge bg-dark text-white position-absolute",style:a,children:"x"})]}),r!==""&&e.jsxs("div",{style:n,children:[e.jsx("div",{style:{padding:"8px 15px"},children:r}),e.jsx("button",{onClick:()=>s(),className:"badge bg-dark text-white position-absolute",style:a,children:"x"})]})]}),e.jsx("button",{style:{marginLeft:"auto",fontSize:"14px"},className:"btn btn-light",onClick:()=>s(),children:"Borrar filtros"})]})})},Z=({setIsLoading:s,table:t,guardapolvosList:r})=>{const[n,a]=d.useState(r),c=j(i=>i.guardapolvos.filtredStatic),x=j(i=>i.guardapolvos.all),l=d.useRef(r),o=$(),u=400,m=j(i=>i.filter.choosenSize),[k,p]=d.useState(""),[C,B]=d.useState(!1),N=()=>B(!1),I=()=>B(!0);d.useEffect(()=>{m!==""&&f("size",m),w()},[]);const w=()=>{t==="stock"&&(l.current=x.filter(i=>i.table==="stock")),t==="guardapolvos"&&(l.current=x)},f=(i,g=null,T=null,P=null)=>{if(N(),s(!0),i==="price")o(H(r,t,T));else if(i==="name")o(O(n,t));else if(i==="size"&&t==="busqueda"){o(y(g));const q=c.filter(F=>F.table!=="stock"||F.size===g);o(L(q))}else i==="size"?(o(y(g)),o(E(n,t,g))):i==="table"&&(p(P),o(D(l.current,t,P)));setTimeout(async()=>{s(!1)},u)},z=(i=null)=>{N(),t==="busqueda"?(o(L(c)),o(y("")),p("")):(o(M(t,l.current)),o(y("")),a(r)),w()};return e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",height:"40px",marginLeft:"10px",marginRight:"10px",marginBottom:"5px",paddingTop:"5px"},children:[e.jsxs(h,{as:G,className:"dropdown-custom",children:[e.jsx(R,{variant:"light",style:{backgroundColor:"#fff",color:"#000",padding:"5px 25px",fontSize:"16px"},children:"Ordenar"}),e.jsx(h.Toggle,{split:!0,variant:"light",id:"dropdown-split-basic",style:{backgroundColor:"#fff",color:"#000",padding:"5px 25px"}}),e.jsxs(h.Menu,{children:[e.jsx(h.Item,{onClick:()=>f("price",null,"lowFirst"),children:"Precio menor a mayor"}),e.jsx(h.Item,{onClick:()=>f("price",null,"highFirst"),children:"Precio mayor a menor"}),e.jsx(h.Item,{onClick:()=>f("name"),children:"Nombre"})]})]}),t==="stock"||t==="guardapolvos"||t==="busqueda"?e.jsxs(R,{onClick:I,variant:"light",style:{marginLeft:"auto",backgroundColor:"#fff",color:"#000",padding:"5px 25px",fontSize:"16px"},children:["Filtrar ",e.jsx("i",{className:"bi bi-filter",style:{padding:"5px 5px"}})]}):null,e.jsxs(b,{show:C,onHide:N,children:[e.jsx(b.Header,{closeButton:!0,children:e.jsx(b.Title,{children:"Filtrar"})}),e.jsx(b.Body,{children:e.jsx(X,{sortGuardapolvos:f,resetProducts:z})})]})]}),m!==""?e.jsx(Y,{resetProducts:z,choosenSize:m,choosenTable:k}):null]})},ee=({type:s})=>{const t=A();return e.jsxs(S,{className:"px-3 px-lg-3 my-3 breadcrumb-container",children:[e.jsx(S.Item,{onClick:()=>t("/"),children:"Inicio"}),e.jsxs(S.Item,{active:!0,children:[" ",s," "]})]})},se=()=>{const s=v(),t=j(c=>c.filter.previusSearch.toLowerCase()),r={margin:"200px 0px"},n=`no hay resultados para "${t}"`;return e.jsx("div",{style:r,children:s.pathname.replace("/","")==="busqueda"?n:"no hay guardapolvos que cumplan con tu busqueda..."})},te=({guardapolvos:s,table:t})=>e.jsx("div",{className:"products-container",children:s.length===0?e.jsx(se,{}):s==null?void 0:s.map((r,n)=>e.jsx(W,{className:"producto",to:`/${t}/${r.id}`,children:e.jsxs("div",{className:"a-contenedor-productos",children:[(t==="stock"||t==="guardapolvos"||t==="busqueda")&&r.amount===0?e.jsx("div",{className:"badge bg-dark text-white position-absolute tag-stock",children:"Sin Stock"}):null,e.jsx("div",{className:"contenedor-imgs",children:e.jsxs("div",{className:"contenedor-img-carrito",children:[e.jsx("img",{src:r.img,alt:"Imagen Guardapolvo de pacuco",className:"section-img-carrito",loading:"lazy"}),e.jsx("img",{src:r.img2,alt:"Imagen Guardapolvo de pacuco",className:"section-img-carrito-hover",loading:"lazy"})]})}),e.jsxs("div",{className:"div-contenedor-detalles",children:[e.jsx("p",{className:"nombreProducto",children:r.name}),e.jsxs("div",{className:"d-flex",children:[e.jsxs("p",{className:"precioProducto",children:["$ ",U(r.price)]}),r.table==="stock"&&r.amount!==0?e.jsxs("p",{style:{marginLeft:"auto"},children:[r.amount," en stock"]}):null]})]})]})},n))}),re=({guardapolvos:s})=>{const t=v(),r=j(a=>a.filter.previusSearch.toLowerCase()),n={color:"#777",marginLeft:"10px"};return e.jsx("div",{children:t.pathname.replace("/","")==="busqueda"?e.jsxs("div",{style:n,children:[" ",s.length," resultado",s.length===1?"":"s",' para "',r,'"']}):e.jsxs("div",{style:n,children:[" ",s.length," resultado",s.length===1?"":"s"]})})},ve=({guardapolvos:s,table:t})=>{const r=v(),[n,a]=d.useState(!1),[c,x]=d.useState(1),l=12,o=s.length,u=Math.ceil(o/l);d.useEffect(()=>{x(1)},[r]);const m=p=>{x(p)},k=()=>{const p=(c-1)*l,C=p+l;return s.slice(p,C)};return e.jsxs("div",{className:"margin-auto width-90",children:[e.jsx(ee,{type:t.replace("_"," ")}),e.jsx(Z,{setIsLoading:a,table:t,guardapolvosList:s}),e.jsx(re,{guardapolvos:s}),e.jsx(_,{}),n?e.jsx(J,{}):e.jsxs("div",{children:[e.jsx(te,{guardapolvos:k(),table:t}),e.jsx(V,{currentPage:c,totalPages:u,onPageChange:m})]})]})};export{ve as default};

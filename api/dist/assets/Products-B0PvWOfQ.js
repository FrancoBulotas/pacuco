import{r as p,t as O,j as e,v as q,ao as b,a as w,u as L,ap as m,E as B,aq as f,ar as R,b as P,L as G,as as D,at as I,W as H,aa as N,au as E,av as M,V as U}from"./index-BuSVN8iU.js";import{B as S}from"./breadcrum-BSqf_DD-.js";import{P as W}from"./PaginationProductos-0uEBSbfR.js";const z=p.forwardRef(({bsPrefix:t,size:i,vertical:s=!1,className:n,role:r="group",as:l="div",...o},d)=>{const c=O(t,"btn-group");let x=c;return s&&(x=`${c}-vertical`),e.jsx(l,{...o,ref:d,role:r,className:q(n,x,i&&`${c}-${i}`)})});z.displayName="ButtonGroup";const _=({updateQueryParams:t,custom:i})=>{b();const s=w(),n={backgroundColor:"#f1f1f1",display:"flex",justifyContent:"center",alignItems:"center",border:"none",borderRadius:"6px",padding:"20px",margin:"6px",width:"60px",height:"20px"},r={backgroundColor:"#f1f1f1",display:"flex",justifyContent:"center",alignItems:"center",border:"none",borderRadius:"6px",padding:"10px",margin:"6px",width:"80px"};return e.jsxs(e.Fragment,{children:[!i&&e.jsxs("div",{style:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"6px",marginBottom:"10px"},children:[e.jsx("h4",{style:{padding:"0px"},children:"Talle"}),e.jsx("div",{style:{margin:"20px 0px",border:"1px solid #e0e0e0",width:"100%"}}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[e.jsx("button",{style:n,onClick:()=>s(t("size","00")),children:"00 "}),e.jsx("button",{style:n,onClick:()=>s(t("size","0")),children:"0"}),e.jsx("button",{style:n,onClick:()=>s(t("size","1")),children:"1"}),e.jsx("button",{style:n,onClick:()=>s(t("size","2")),children:"2"}),e.jsx("button",{style:n,onClick:()=>s(t("size","3")),children:"3"}),e.jsx("button",{style:n,onClick:()=>s(t("size","4")),children:"4"}),e.jsx("button",{style:n,onClick:()=>s(t("size","5")),children:"5"})]})]}),e.jsxs("div",{style:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"6px",marginBottom:"10px"},children:[e.jsx("h4",{style:{padding:"0px"},children:"Tipo"}),e.jsx("div",{style:{margin:"20px 0px",border:"1px solid #e0e0e0",width:"100%"}}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[e.jsx("button",{style:r,onClick:()=>s(t("table","nivel_inicial")),children:"Nivel Inicial"}),e.jsx("button",{style:r,onClick:()=>s(t("table","primaria")),children:"Primaria"}),e.jsx("button",{style:r,onClick:()=>s(t("table","stock")),children:"Stock"})]})]})]})},V=({resetProducts:t,choosenSize:i,choosenTable:s})=>{const n={position:"relative",backgroundColor:"#f1f1f1",margin:"5px",borderRadius:"6px"},r={top:"-8px",left:"0px",padding:"4px 6px",border:"none"};return e.jsx("div",{style:{margin:"10px 25px",padding:"10px",border:"1px solid #f1f1f1",borderRadius:"6px",fontSize:"14px"},children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("div",{children:"Filtros: "}),e.jsxs("div",{className:"d-flex",style:{marginLeft:"6px"},children:[i&&e.jsxs("div",{style:n,children:[e.jsx("div",{style:{padding:"8px 15px"},children:i}),e.jsx("button",{onClick:()=>t("size"),className:"badge bg-dark text-white position-absolute",style:r,children:"x"})]}),s&&e.jsxs("div",{style:n,children:[e.jsx("div",{style:{padding:"8px 15px"},children:s}),e.jsx("button",{onClick:()=>t("table"),className:"badge bg-dark text-white position-absolute",style:r,children:"x"})]})]}),e.jsx("div",{style:{marginRight:"auto"}})]})})},A=({setIsLoading:t,table:i,guardapolvosList:s})=>{const[n,r]=p.useState({}),[l,o]=p.useState(!1),d=w(),c=b(),x=L(),g=1e3,[a,u]=p.useState(!1),y=()=>u(!1),F=()=>{u(!0),T()};p.useEffect(()=>{r(new URLSearchParams(c.search))},[c.search]);const $=h=>{y(),x(R({page:1,table:i}));const j=window.location.href,k=new URL(j);h=="size"&&k.searchParams.delete("size"),h=="table"&&k.searchParams.delete("table"),window.location.href=k.toString()},C=(h,j)=>(n.set(h,j),`${c.pathname}?${n.toString()}`),v=(h,j)=>(y(),t(!0),console.log(n.toString()),n.set(h,j),setTimeout(async()=>{t(!1)},g),`${c.pathname}?${n.toString()}`),T=()=>{n&&(n.get("table")==="primaria"||n.get("table")==="nivel_inicial"?o(!0):o(!1))};return e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",height:"40px",marginLeft:"10px",marginRight:"10px",marginBottom:"5px",paddingTop:"5px"},children:[e.jsxs(m,{as:z,className:"dropdown-custom",children:[e.jsx(B,{variant:"light",style:{backgroundColor:"#fff",color:"#000",padding:"5px 25px",fontSize:"16px"},children:"Ordenar"}),e.jsx(m.Toggle,{split:!0,variant:"light",id:"dropdown-split-basic",style:{backgroundColor:"#fff",color:"#000",padding:"5px 25px"}}),e.jsxs(m.Menu,{children:[e.jsx(m.Item,{onClick:()=>d(C("sortByPrice","asc")),children:"Precio menor a mayor"}),e.jsx(m.Item,{onClick:()=>d(C("sortByPrice","desc")),children:"Precio mayor a menor"}),e.jsx(m.Item,{onClick:()=>d(C("sortByName","asc")),children:"Nombre"})]})]}),e.jsxs(B,{onClick:F,variant:"light",style:{marginLeft:"auto",backgroundColor:"#fff",color:"#000",padding:"5px 25px",fontSize:"16px"},children:["Filtrar ",e.jsx("i",{className:"bi bi-filter",style:{padding:"5px 5px"}})]}),e.jsxs(f,{show:a,onHide:y,children:[e.jsx(f.Header,{closeButton:!0,children:e.jsx(f.Title,{children:"Filtrar"})}),e.jsx(f.Body,{children:e.jsx(_,{updateQueryParams:v,custom:l})})]})]}),n.toString().includes("size")||n.toString().includes("table")?e.jsx(V,{resetProducts:$,choosenSize:n.get("size"),choosenTable:n.get("table")}):null]})},J=({type:t})=>{const i=w();return e.jsxs(S,{className:"px-3 px-lg-3 my-3 breadcrumb-container",children:[e.jsx(S.Item,{onClick:()=>i("/"),children:"Inicio"}),e.jsxs(S.Item,{active:!0,children:[" ",t," "]})]})},K=()=>{const t=b(),i=P(l=>l.filter.previusSearch.toLowerCase()),s={margin:"200px 0px"},n=`no hay resultados para "${i}"`;return e.jsx("div",{style:s,children:t.pathname.replace("/","")==="busqueda"?n:"no hay guardapolvos que cumplan con tu busqueda..."})},X=({guardapolvos:t,table:i})=>e.jsx("div",{className:"products-container",children:(t==null?void 0:t.length)===0?e.jsx(K,{}):t==null?void 0:t.map((s,n)=>e.jsx(G,{className:"producto",to:`/products/${s.id}`,children:e.jsxs("div",{className:"a-contenedor-productos",children:[(i==="stock"||i==="guardapolvos"||i==="busqueda")&&s.amount===0?e.jsx("div",{className:"badge bg-dark text-white position-absolute tag-stock",children:"Sin Stock"}):null,e.jsx(D,{guardapolvo:s,navigateTo:i,loadGuardapolvos:!0}),e.jsx("div",{className:"contenedor-imgs",children:e.jsxs("div",{className:"contenedor-img-carrito",style:{marginTop:"20px"},children:[e.jsx(I,{src:s.img,alt:s.description.general,className:"section-img-carrito"}),e.jsx(I,{src:s.img2,alt:s.description.general,className:"section-img-carrito-hover",secondImg:!0})]})}),e.jsxs("div",{className:"div-contenedor-detalles",children:[e.jsx("p",{className:"nombreProducto",children:s.name}),e.jsx("div",{className:"d-flex",style:{flexDirection:"column"},children:H(s)?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-decoration-line-through",style:{marginRight:"8px",color:"gray"},children:["$ ",N(s.price)]}),e.jsxs("span",{className:"porcentajeProductoOff",children:[E(s),"% OFF"]})]}),e.jsxs("span",{className:"precioProducto",children:["$",N(s.discountPrice)]})]}):e.jsxs("p",{className:"precioProducto",children:["$ ",N(s.price)]})}),e.jsx("div",{children:s.table==="stock"&&s.amount!==0?e.jsxs("p",{style:{marginLeft:"auto"},children:[s.amount," en stock"]}):null})]})]})},n))}),Y=({guardapolvos:t})=>{const i=b(),s=P(r=>r.filter.previusSearch.toLowerCase()),n={color:"#777",marginLeft:"10px"};return e.jsx("div",{children:i.pathname.replace("/","")==="busqueda"?e.jsxs("div",{style:n,children:[" ",t==null?void 0:t.length," resultado",(t==null?void 0:t.length)===1?"":"s",' para "',s,'"']}):e.jsxs("div",{style:n,children:[" ",t==null?void 0:t.length," resultado",(t==null?void 0:t.length)===1?"":"s"]})})},te=({guardapolvos:t,table:i})=>{const s=L(),[n,r]=p.useState(!1),l=P(a=>a.filter.choosenPage[i]),o=20,d=t==null?void 0:t.length,c=Math.ceil(d/o),x=a=>{s(R({page:a,table:i}))},g=()=>{const a=(l-1)*o,u=a+o;return t==null?void 0:t.slice(a,u)};return e.jsxs("div",{className:"margin-auto width-90",children:[e.jsx(J,{type:i.replace("_"," ")}),e.jsx(A,{setIsLoading:r,table:i,guardapolvosList:t}),e.jsx(Y,{guardapolvos:t}),e.jsx(M,{}),n?e.jsx(U,{}):e.jsxs("div",{children:[e.jsx(X,{guardapolvos:g(),table:i}),e.jsx(W,{currentPage:l,totalPages:c,onPageChange:x})]})]})};export{te as default};

import{r as x,q as M,j as e,t as O,an as v,D as f,u as G,ao as y,ap as L,aq as W,ar as P,as as m,E as T,at as b,au as X,av as _,aw as A,ax as J,b as K,L as Q,ay as q,X as U,ab as S,az as V,W as Y}from"./index-DpRaKJ3k.js";import{B}from"./breadcrum-ddLmqQL4.js";import{P as Z}from"./PaginationProductos-CZeEL6jE.js";const $=x.forwardRef(({bsPrefix:s,size:t,vertical:n=!1,className:r,role:a="group",as:d="div",...u},l)=>{const i=M(s,"btn-group");let p=i;return n&&(p=`${i}-vertical`),e.jsx(d,{...u,ref:l,role:a,className:O(r,p,t&&`${i}-${t}`)})});$.displayName="ButtonGroup";const ee=({sortGuardapolvos:s,resetProducts:t})=>{v().pathname.replace("/","");const r={backgroundColor:"#f1f1f1",display:"flex",justifyContent:"center",alignItems:"center",border:"none",borderRadius:"6px",padding:"20px",margin:"6px",width:"60px",height:"20px"};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"6px",marginBottom:"10px"},children:[e.jsx("h4",{style:{padding:"0px"},children:"Talle"}),e.jsx("div",{style:{margin:"20px 0px",border:"1px solid #e0e0e0",width:"100%"}}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[e.jsx("button",{style:r,onClick:()=>s("size","00"),children:"00 "}),e.jsx("button",{style:r,onClick:()=>s("size","0"),children:"0"}),e.jsx("button",{style:r,onClick:()=>s("size","1"),children:"1"}),e.jsx("button",{style:r,onClick:()=>s("size","2"),children:"2"}),e.jsx("button",{style:r,onClick:()=>s("size","3"),children:"3"}),e.jsx("button",{style:r,onClick:()=>s("size","4"),children:"4"}),e.jsx("button",{style:r,onClick:()=>s("size","5"),children:"5"})]})]}),e.jsx("button",{style:{marginTop:"20px"},className:"btn btn-dark",onClick:()=>t(),children:"Borrar filtros"})]})},se=({resetProducts:s,choosenSize:t,choosenTable:n})=>{const r={position:"relative",backgroundColor:"#f1f1f1",margin:"5px",borderRadius:"6px"},a={top:"-8px",left:"0px",padding:"4px 6px",border:"none"};return e.jsx("div",{style:{margin:"10px 25px",padding:"10px",border:"1px solid #f1f1f1",borderRadius:"6px",fontSize:"14px"},children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("div",{children:"Filtros: "}),e.jsxs("div",{className:"d-flex",style:{marginLeft:"6px"},children:[t!==""&&e.jsxs("div",{style:r,children:[e.jsx("div",{style:{padding:"8px 15px"},children:t}),e.jsx("button",{onClick:()=>s(),className:"badge bg-dark text-white position-absolute",style:a,children:"x"})]}),n!==""&&e.jsxs("div",{style:r,children:[e.jsx("div",{style:{padding:"8px 15px"},children:n}),e.jsx("button",{onClick:()=>s(),className:"badge bg-dark text-white position-absolute",style:a,children:"x"})]})]}),e.jsx("button",{style:{marginLeft:"auto",fontSize:"14px"},className:"btn btn-light",onClick:()=>s(),children:"Borrar filtros"})]})})},te=({setIsLoading:s,table:t,guardapolvosList:n})=>{const[r,a]=x.useState(n),d=f(o=>o.guardapolvos.filtredStatic),u=f(o=>o.guardapolvos.all),l=x.useRef(n),i=G(),p=1e3,h=f(o=>o.filter.choosenSize),[k,c]=x.useState(""),[C,w]=x.useState(!1),N=()=>w(!1),E=()=>w(!0);x.useEffect(()=>{h!==""&&j("size",h),F()},[]);const F=()=>{t==="stock"&&(l.current=u.filter(o=>o.table==="stock")),t==="guardapolvos"&&(l.current=u)},j=(o,g=null,H=null,R=null)=>{if(N(),s(!0),o==="price")i(X(n,t,H));else if(o==="name")i(_(r,t));else if(o==="size"&&t==="busqueda"){i(y(g));const D=d.filter(I=>I.table!=="stock"||I.size===g);i(L(D))}else o==="size"?(i(y(g)),i(W(r,t,g))):o==="table"&&(c(R),i(A(l.current,t,R)));i(P(1)),setTimeout(async()=>{s(!1)},p)},z=(o=null)=>{N(),t==="busqueda"?(i(L(d)),i(y("")),c("")):(i(J(t,l.current)),i(y("")),a(n)),F()};return e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",height:"40px",marginLeft:"10px",marginRight:"10px",marginBottom:"5px",paddingTop:"5px"},children:[e.jsxs(m,{as:$,className:"dropdown-custom",children:[e.jsx(T,{variant:"light",style:{backgroundColor:"#fff",color:"#000",padding:"5px 25px",fontSize:"16px"},children:"Ordenar"}),e.jsx(m.Toggle,{split:!0,variant:"light",id:"dropdown-split-basic",style:{backgroundColor:"#fff",color:"#000",padding:"5px 25px"}}),e.jsxs(m.Menu,{children:[e.jsx(m.Item,{onClick:()=>j("price",null,"lowFirst"),children:"Precio menor a mayor"}),e.jsx(m.Item,{onClick:()=>j("price",null,"highFirst"),children:"Precio mayor a menor"}),e.jsx(m.Item,{onClick:()=>j("name"),children:"Nombre"})]})]}),t==="stock"||t==="guardapolvos"||t==="busqueda"?e.jsxs(T,{onClick:E,variant:"light",style:{marginLeft:"auto",backgroundColor:"#fff",color:"#000",padding:"5px 25px",fontSize:"16px"},children:["Filtrar ",e.jsx("i",{className:"bi bi-filter",style:{padding:"5px 5px"}})]}):null,e.jsxs(b,{show:C,onHide:N,children:[e.jsx(b.Header,{closeButton:!0,children:e.jsx(b.Title,{children:"Filtrar"})}),e.jsx(b.Body,{children:e.jsx(ee,{sortGuardapolvos:j,resetProducts:z})})]})]}),h!==""?e.jsx(se,{resetProducts:z,choosenSize:h,choosenTable:k}):null]})},ne=({type:s})=>{const t=K();return e.jsxs(B,{className:"px-3 px-lg-3 my-3 breadcrumb-container",children:[e.jsx(B.Item,{onClick:()=>t("/"),children:"Inicio"}),e.jsxs(B.Item,{active:!0,children:[" ",s," "]})]})},re=()=>{const s=v(),t=f(d=>d.filter.previusSearch.toLowerCase()),n={margin:"200px 0px"},r=`no hay resultados para "${t}"`;return e.jsx("div",{style:n,children:s.pathname.replace("/","")==="busqueda"?r:"no hay guardapolvos que cumplan con tu busqueda..."})},ie=({guardapolvos:s,table:t})=>e.jsx("div",{className:"products-container",children:s.length===0?e.jsx(re,{}):s==null?void 0:s.map((n,r)=>e.jsx(Q,{className:"producto",to:`/${t}/${n.id}`,children:e.jsxs("div",{className:"a-contenedor-productos",children:[(t==="stock"||t==="guardapolvos"||t==="busqueda")&&n.amount===0?e.jsx("div",{className:"badge bg-dark text-white position-absolute tag-stock",children:"Sin Stock"}):null,e.jsx("div",{className:"contenedor-imgs",children:e.jsxs("div",{className:"contenedor-img-carrito",children:[e.jsx(q,{src:n.img,alt:n.description.general,className:"section-img-carrito"}),e.jsx(q,{src:n.img2,alt:n.description.general,className:"section-img-carrito-hover",secondImg:!0})]})}),e.jsxs("div",{className:"div-contenedor-detalles",children:[e.jsx("p",{className:"nombreProducto",children:n.name}),e.jsx("div",{className:"d-flex",children:U(n)?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-decoration-line-through",style:{marginRight:"8px",color:"gray"},children:["$ ",S(n.price)]}),e.jsxs("span",{children:["$",S(n.discountPrice)]})]}):e.jsxs("p",{className:"precioProducto",children:["$ ",S(n.price)]})}),e.jsx("div",{style:{marginTop:"5px"},children:n.table==="stock"&&n.amount!==0?e.jsxs("p",{style:{marginLeft:"auto"},children:[n.amount," en stock"]}):null})]})]})},r))}),oe=({guardapolvos:s})=>{const t=v(),n=f(a=>a.filter.previusSearch.toLowerCase()),r={color:"#777",marginLeft:"10px"};return e.jsx("div",{children:t.pathname.replace("/","")==="busqueda"?e.jsxs("div",{style:r,children:[" ",s.length," resultado",s.length===1?"":"s",' para "',n,'"']}):e.jsxs("div",{style:r,children:[" ",s.length," resultado",s.length===1?"":"s"]})})},de=({guardapolvos:s,table:t})=>{const n=v(),r=G(),[a,d]=x.useState(!1),u=f(c=>c.filter.choosenPage),l=20,i=s.length,p=Math.ceil(i/l);x.useEffect(()=>{r(P(1))},[n]);const h=c=>{r(P(c))},k=()=>{const c=(u-1)*l,C=c+l;return s.slice(c,C)};return e.jsxs("div",{className:"margin-auto width-90",children:[e.jsx(ne,{type:t.replace("_"," ")}),e.jsx(te,{setIsLoading:d,table:t,guardapolvosList:s}),e.jsx(oe,{guardapolvos:s}),e.jsx(V,{}),a?e.jsx(Y,{}):e.jsxs("div",{children:[e.jsx(ie,{guardapolvos:k(),table:t}),e.jsx(Z,{currentPage:u,totalPages:p,onPageChange:h})]})]})};export{de as default};

import{r as a,u as x,a as b,j as e}from"./index-C0OXIGzn.js";import{u as h}from"./users-Bdt_guTA.js";import{A as y}from"./Alert-C4rWxbIj.js";const v=()=>{const[i,l]=a.useState(""),[t,c]=a.useState(""),[o,d]=a.useState(""),[r,n]=a.useState({display:"none",text:""});x();const p=b();a.useEffect(()=>{if(r.display==="block"){const s=setTimeout(()=>{n({display:"none",text:""})},2500);return()=>clearTimeout(s)}},[r]);const m=async s=>{if(s.preventDefault(),t!=o){n({display:"block",text:"Las contrase単as deben coincidir"});return}try{await h.create({username:i,password:t}),n({display:"none",text:""}),p("/login"),l(""),c(""),d("")}catch(u){console.log(u),n({display:"block",text:"Usuario y/o contrase単a incorrecto"})}};return e.jsxs("div",{style:{margin:"120px auto",marginTop:"160px",width:"400px",padding:"10px",boxShadow:"0px 4px 8px 2px rgba(0, 0, 0, 0.1)",borderRadius:"6px"},children:[e.jsx("h3",{style:{display:"flex",justifyContent:"center"},children:"Registrarse"}),e.jsx(y,{variant:"danger",style:{display:`${r.display}`},children:r.text},"danger"),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Nombre de usuario"}),e.jsx("input",{className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",value:i,onChange:({target:s})=>l(s.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Ingresar contrase単a"}),e.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1",value:t!==void 0?t:"",onChange:({target:s})=>c(s.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Ingresar contrase単a nuevamente"}),e.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword2",value:o!==void 0?o:"",onChange:({target:s})=>d(s.value)})]}),e.jsx("button",{type:"submit",className:"btn btn-dark",children:"Registrarse"}),e.jsx("a",{href:"/login",className:"btn",style:{textDecoration:"underline"},children:"Ir a inicio de sesion"})]})]})};export{v as default};

import{r as y,b as M,j as e,d as U,a as v,at as I,u as $,au as b,V as R,av as P,aw as z,i as L,L as E,ax as W,ay as T,a0 as J,ag as B,az as X,aA as Y,$ as Z}from"./index-Bv9j-p6T.js";import{B as w}from"./breadcrum-BGpJdS8e.js";import{P as K}from"./PaginationProductos-D6t2ZfI6.js";const O=y.forwardRef(({bsPrefix:s,size:n,vertical:t=!1,className:r,role:i="group",as:c="div",...a},d)=>{const m=M(s,"btn-group");let l=m;return t&&(l=`${m}-vertical`),e.jsx(c,{...a,ref:d,role:i,className:U(r,l,n&&`${m}-${n}`)})});O.displayName="ButtonGroup";const V=({updateQueryParams:s,isCustom:n,isAccesory:t,guardapolvos:r})=>{const i=v(),c={border:"1px solid #e0e0e0",padding:"20px",borderRadius:"6px",marginBottom:"5px"},a={padding:"0px",fontSize:"17px"},d={margin:"10px 0px",border:"1px solid #e0e0e0",width:"100%"},m={display:"flex",flexWrap:"wrap"},l={fontSize:"15px",backgroundColor:"#f1f1f1",display:"flex",justifyContent:"center",alignItems:"center",border:"none",borderRadius:"6px",padding:"20px",margin:"6px",width:"60px",height:"20px"},p={fontSize:"15px",backgroundColor:"#f1f1f1",display:"flex",justifyContent:"center",alignItems:"center",border:"none",borderRadius:"6px",padding:"10px",margin:"6px",width:"80px"},x=g=>{const k=r.map(C=>C.description[g]);return[...new Set(k)]};return x("base"),x("detalle"),x("vivos"),x("bolsillos"),e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:c,children:[e.jsx("h4",{style:a,children:"Guardapolvos"}),e.jsx("div",{style:d}),e.jsxs("div",{style:m,children:[e.jsx("button",{style:p,onClick:()=>i(s("type","nivel_inicial")),children:"Nivel Inicial"}),e.jsx("button",{style:p,onClick:()=>i(s("type","primaria")),children:"Primaria"}),e.jsx("button",{style:p,onClick:()=>i(s("type","stock")),children:"Stock"}),e.jsx("button",{style:p,onClick:()=>i(s("type","niños")),children:"Niños"})]})]}),e.jsxs("div",{style:c,children:[e.jsx("h4",{style:a,children:"Accesorios"}),e.jsx("div",{style:d}),e.jsx("div",{style:m,children:e.jsx("button",{style:p,onClick:()=>i(s("type","totebag")),children:"Totebags"})})]}),n&&e.jsxs("div",{style:c,children:[e.jsx("h4",{style:a,children:"Talle"}),e.jsx("div",{style:d}),e.jsxs("div",{style:m,children:[e.jsx("button",{style:l,onClick:()=>i(s("size","00")),children:"00"}),e.jsx("button",{style:l,onClick:()=>i(s("size","0")),children:"0"}),e.jsx("button",{style:l,onClick:()=>i(s("size","1")),children:"1"}),e.jsx("button",{style:l,onClick:()=>i(s("size","2")),children:"2"}),e.jsx("button",{style:l,onClick:()=>i(s("size","3")),children:"3"}),e.jsx("button",{style:l,onClick:()=>i(s("size","4")),children:"4"}),e.jsx("button",{style:l,onClick:()=>i(s("size","5")),children:"5"})]})]}),t&&e.jsxs("div",{style:c,children:[e.jsx("h4",{style:a,children:"Talle"}),e.jsx("div",{style:d}),e.jsxs("div",{style:m,children:[e.jsx("button",{style:l,onClick:()=>i(s("size","M")),children:"M"}),e.jsx("button",{style:l,onClick:()=>i(s("size","L")),children:"L"})]})]})]})},Q=({resetProducts:s,filters:n})=>{const t={position:"relative",backgroundColor:"#f1f1f1",margin:"5px",borderRadius:"6px",display:"flex",justifyContent:"center",alignItems:"center"},r={top:"-8px",left:"0px",padding:"4px 6px",border:"none"};return e.jsx("div",{style:{margin:"10px 25px",padding:"10px",border:"1px solid #f1f1f1",borderRadius:"6px",fontSize:"14px"},children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("div",{children:"Filtros: "}),e.jsx("div",{className:"d-flex",style:{marginLeft:"6px"},children:Object.entries(n).map(([i,c],a)=>{if(c!=null){let d;return c=="asc"&&(d="precio menor a mayor"),c=="desc"&&(d="precio mayor a menor"),e.jsxs("div",{style:t,children:[e.jsx("div",{style:{padding:"8px 15px"},children:i==="sortByPrice"?d:c}),e.jsx("button",{onClick:()=>s(i),className:"badge bg-dark text-white position-absolute",style:r,children:"x"})]},a)}})}),e.jsx("div",{style:{marginRight:"auto"}})]})})},ee=({setIsLoading:s,table:n,guardapolvosList:t})=>{const[r,i]=y.useState({}),[c,a]=y.useState(!1),[d,m]=y.useState(!1),l=v(),p=I(),x=$(),g=1e3,[k,C]=y.useState(!1),[S,f]=y.useState({size:null,table:null,sortByPrice:null,name:null}),G=window.location.href,o=new URL(G),N=()=>C(!1),_=()=>{C(!0),D(),H()};y.useEffect(()=>{const h=new URLSearchParams(p.search);i(h),o.searchParams.get("size")&&(o.searchParams.get("type")=="primaria"||o.searchParams.get("type")=="nivel_incial")&&(o.searchParams.delete("size"),window.location.href=o.toString()),f(u=>({...u,size:o.searchParams.get("size"),type:o.searchParams.get("type"),sortByPrice:o.searchParams.get("sortByPrice"),name:o.searchParams.get("name"),category:o.searchParams.get("category")}))},[p.search]);const q=h=>{N(),x(z({page:1,table:n})),h=="size"&&(f(j=>({...j,size:null})),o.searchParams.delete("size")),h=="type"&&(f(j=>({...j,size:null})),o.searchParams.delete("type")),h=="sortByPrice"&&(f(j=>({...j,sortByPrice:null})),o.searchParams.delete("sortByPrice")),h=="name"&&(f(j=>({...j,name:null})),o.searchParams.delete("name")),h=="category"&&(f(j=>({...j,category:null})),o.searchParams.delete("category"));let u=S;u[h]=null,Object.values(u).every(j=>j===null)&&o.searchParams.append("category","guardapolvo"),window.location.href=o.toString()},F=(h,u)=>(r.set(h,u),`${p.pathname}?${r.toString()}`),A=(h,u)=>(N(),s(!0),x(z({page:1,table:n.replace(" ","_")})),r.set(h,u),setTimeout(async()=>{s(!1)},g),`${p.pathname}?${r.toString()}`),D=()=>{r&&(r.get("type")==="stock"?a(!0):a(!1))},H=()=>{r&&(r.get("type")==="totebag"?m(!0):m(!1))};return e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",height:"40px",marginLeft:"10px",marginRight:"10px",marginBottom:"5px",paddingTop:"5px"},children:[e.jsxs(b,{as:O,className:"dropdown-custom",children:[e.jsx(R,{variant:"light",style:{backgroundColor:"#fff",color:"#000",padding:"5px 25px",fontSize:"16px"},children:"Ordenar"}),e.jsx(b.Toggle,{split:!0,variant:"light",id:"dropdown-split-basic",style:{backgroundColor:"#fff",color:"#000",padding:"5px 25px"}}),e.jsxs(b.Menu,{children:[e.jsx(b.Item,{onClick:()=>l(F("sortByPrice","asc")),children:"Precio menor a mayor"}),e.jsx(b.Item,{onClick:()=>l(F("sortByPrice","desc")),children:"Precio mayor a menor"})]})]}),e.jsxs(R,{onClick:_,variant:"light",style:{marginLeft:"auto",backgroundColor:"#fff",color:"#000",padding:"5px 25px",fontSize:"16px"},children:["Filtrar ",e.jsx("i",{className:"bi bi-filter",style:{padding:"5px 5px"}})]}),e.jsxs(P,{show:k,onHide:N,children:[e.jsx(P.Header,{closeButton:!0,children:e.jsx(P.Title,{children:"Filtrar"})}),e.jsx(P.Body,{children:e.jsx(V,{updateQueryParams:A,isCustom:c,isAccesory:d,guardapolvos:t})})]})]}),Object.values(S).every(h=>h===null)?null:e.jsx(Q,{resetProducts:q,filters:S})]})},se=({type:s})=>{const n=v();return e.jsxs(w,{className:"px-3 px-lg-3 my-3 breadcrumb-container",children:[e.jsx(w.Item,{onClick:()=>n("/"),children:"Inicio"}),e.jsxs(w.Item,{active:!0,children:[" ",s," "]})]})},te=()=>{const s=I(),n=L(c=>c.filter.previusSearch.toLowerCase()),t={margin:"200px 0px"},r=`no hay resultados para "${n}"`;return e.jsx("div",{style:t,children:s.pathname.replace("/","")==="busqueda"?r:"no hay guardapolvos que cumplan con tu busqueda..."})},ne=({guardapolvos:s,table:n})=>e.jsx("div",{className:"products-container",children:(s==null?void 0:s.length)===0?e.jsx(te,{}):s==null?void 0:s.map((t,r)=>e.jsx(E,{className:"producto",to:`/products?id=${t.id}`,children:e.jsxs("div",{className:"a-contenedor-productos",children:[(n==="stock"||n==="guardapolvos"||n==="busqueda")&&t.amount===0?e.jsx("div",{className:"badge bg-dark text-white position-absolute tag-stock",children:"Sin Stock"}):null,e.jsx(W,{guardapolvo:t,navigateTo:n,loadGuardapolvos:!0}),e.jsx("div",{className:"contenedor-imgs",children:e.jsxs("div",{className:"contenedor-img-carrito",style:{marginTop:"20px"},children:[e.jsx(T,{src:t.img,alt:t.description.general,className:"section-img-carrito"}),e.jsx(T,{src:t.img2,alt:t.description.general,className:"section-img-carrito-hover",secondImg:!0})]})}),e.jsxs("div",{className:"div-contenedor-detalles",children:[e.jsx("p",{className:"nombreProducto",children:t.name}),e.jsx("div",{className:"d-flex",style:{flexDirection:"column"},children:J(t)?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-decoration-line-through",style:{marginRight:"8px",color:"gray"},children:["$ ",B(t.price)]}),e.jsxs("span",{className:"porcentajeProductoOff",children:[X(t),"% OFF"]})]}),e.jsxs("span",{className:"precioProducto",children:["$",B(t.discountPrice)]})]}):e.jsxs("p",{className:"precioProducto",children:["$ ",B(t.price)]})}),e.jsx("div",{children:(t.table==="stock"||t.table==="accesorios")&&t.amount!==0?e.jsxs("p",{style:{marginLeft:"auto"},children:[t.amount," en stock"]}):null})]})]})},r))}),ie=({guardapolvos:s})=>{const n=I(),t=L(i=>i.filter.previusSearch.toLowerCase()),r={color:"#777",marginLeft:"10px"};return e.jsx("div",{children:n.pathname.replace("/","")==="busqueda"?e.jsxs("div",{style:r,children:[" ",s==null?void 0:s.length," resultado",(s==null?void 0:s.length)===1?"":"s",' para "',t,'"']}):e.jsxs("div",{style:r,children:[" ",s==null?void 0:s.length," resultado",(s==null?void 0:s.length)===1?"":"s"]})})},ae=({guardapolvos:s,table:n})=>{const t=$(),[r,i]=y.useState(!1),c=L(x=>x.filter.choosenPage[n.replace(" ","_")]),a=20,d=s==null?void 0:s.length,m=Math.ceil(d/a),l=x=>{t(z({page:x,table:n.replace(" ","_")}))},p=()=>{const x=(c-1)*a,g=x+a;return s==null?void 0:s.slice(x,g)};return e.jsxs("div",{className:"margin-auto width-90",children:[e.jsx(se,{type:n.replace("_"," ")}),e.jsx(ee,{setIsLoading:i,table:n,guardapolvosList:s}),e.jsx(ie,{guardapolvos:s}),e.jsx(Y,{}),r?e.jsx(Z,{}):e.jsxs("div",{children:[e.jsx(ne,{guardapolvos:p(),table:n}),e.jsx(K,{currentPage:c,totalPages:m,onPageChange:l})]})]})};export{ae as default};
